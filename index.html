<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="./src/leaflet/leaflet.css"/>
    <link rel="stylesheet" href="./src/custom.css"/>
    <script src="./src/leaflet/leaflet.js"></script>
    <script src="https://kit.fontawesome.com/dda9c078d2.js" crossorigin="anonymous"></script>
    <style>
        #map {
            position: absolute; top: 0; bottom: 0; left: 0; right: 0;
            background-color: #0fa8d2;
        }
    </style>
</head>
<body>
    <div id = "map"></div>
    <script type="text/javascript" src="./src/icons.js"></script>
    <script type="text/javascript" src="./configs/restaurants.js"></script>
    <script type="text/javascript" src="./configs/corner_stores.js"></script>
    <script type="text/javascript" src="./configs/novelty_shops.js"></script>
    <script type="text/javascript" src="./configs/dispensaries.js"></script>
    <script type="text/javascript" src="./configs/supply_stores.js"></script>
    <script type="text/javascript" src="./configs/pet_stores.js"></script>
    <script type="text/javascript" src="./configs/recreational_stores.js"></script>
    <script type="text/javascript" src="./configs/electronics_stores.js"></script>
    <script type="text/javascript" src="./configs/coffee_houses.js"></script>
    <script type="text/javascript" src="./configs/repair_shops.js"></script>
    <script type="text/javascript" src="./configs/wheelchair_key_mapping.js"></script>
    <script type="text/javascript" src="./src/utils.js"></script>

    <script>
        /*==================== GTA Map ====================*/
        var map = L.map('map', {
            crs: L.CRS.Simple,
            minZoom: -3.0,
            zoomDelta: 0.5,
            zoomSnap: 0.005,
            zoomAnimationThreshold: 20,
            wheelPxPerZoomLevel: 20
        });
        var bounds = [[0,0], [8000,8000]];
        var image = L.imageOverlay('./images/GTAV8kRes_10_percent.png', bounds).addTo(map);
        map.fitBounds(bounds);
        /*==================== Icons ====================*/

        // Icons now imported at the top

        /*==================== Restaurants ====================*/

        restaurants_markers = create_marker_list(restaurants_list, redIcon)

        /*==================== Corner Stores ====================*/

        corner_stores_markers = create_marker_list(corner_stores_list, blueIcon)

        /*==================== Novelty Shops ====================*/

        novelty_shops_markers = create_marker_list(novelty_shops_list, blueIcon)
        
        /*====================== Dispensaries ======================*/

        dispensaries_markers = create_marker_list(dispensaries_list, greenIcon)

        /*====================== Supply Stores ======================*/

        supply_stores_markers = create_marker_list(supply_stores_list, blackIcon)
        
        var saiCartersGunEmporium = L.marker([1765, 4415], {
        title: "Flop Dugong's Gun Emporium Co-Owned by Jeffrey Bundy",
        icon: blackIcon,
    }).bindPopup("<h1><strike>Sai Carter's</strike> Flop Dugong's Gun Emporium</h1><img src='https://i.imgur.com/kPekNy2.jpeg' width=100% height=100% />").addTo(map);

        /*==================== Pet Stores ====================*/

        pet_stores_markers = create_marker_list(pet_stores_list, whiteIcon)

        /*==================== Recreation ====================*/

        recreational_stores_markers = create_marker_list(recreational_stores_list, pinkIcon)

        /*==================== Electronics ====================*/

        electronics_stores_markers = create_marker_list(electronics_stores_list, purpleIcon)

        /*==================== Coffee Houses ====================*/

        coffee_houses_markers = create_marker_list(coffee_houses_list, orangeIcon)

        /*==================== Repair Shops ====================*/

        repair_shops_markers = create_marker_list(repair_shops_list, tealIcon)

        /*==================== Easter Eggs ====================*/
        //var norman = L.marker([5930, 5870]).bindPopup('Normans Dumbass House').addTo(map);
        //var center = L.marker ([4000, 4000]).bindPopup('Center of Map').addTo(map);
        /*==================== Layers ====================*/
        var cornerStores = L.layerGroup(corner_stores_markers);
        var restaurants = L.layerGroup(restaurants_markers);
        var noveltyShops = L.layerGroup(novelty_shops_markers);
        var dispensaries = L.layerGroup(dispensaries_markers);
        var hardwareStores = L.layerGroup(supply_stores_markers, saiCartersGunEmporium);
        var petStores = L.layerGroup(pet_stores_markers);
        var recreation = L.layerGroup(recreational_stores_markers);
        var electronics = L.layerGroup(electronics_stores_markers);
        var coffee_houses = L.layerGroup(coffee_houses_markers);
        var repairShop = L.layerGroup(repair_shops_markers);
        /*==================== Leaflet Layer Control ====================*/
        map.addLayer(restaurants)
        map.addLayer(cornerStores)
        map.addLayer(noveltyShops)
        map.addLayer(dispensaries)
        map.addLayer(hardwareStores)
        map.addLayer(petStores)
        map.addLayer(recreation)
        map.addLayer(electronics)
        map.addLayer(coffee_houses)
        map.addLayer(repairShop)
        var overlayMaps = {
            'Restaurants (Staffed Food Establishments)': restaurants, 
            'Corner Stores (Bandaids, Armor)': cornerStores, 
            'Novelty Shops (Plushies, Collectables)': noveltyShops, 
            'Dispensaries (Joints, Cigs)': dispensaries, 
            'Supply Stores (Tools, Supplies)': hardwareStores, 
            'Pet Stores (For Pets)': petStores,
            'Recreational (You know, Fun Stuff)': recreation,
            'Electronics (Phones, Laptops, VPNs)': electronics,
            'Coffee Houses & Beverage (Coffee, Wine)': coffee_houses,
            'Mechanics & Repair Shops': repairShop,
        };
        L.control.layers(0, overlayMaps).addTo(map);
    </script>
    <div class="authors">
        <!--             This site is still a work in progress, contact The Authors>@MelarkyNP / @TheThirdWheelFM on Twitter <br>or Attend Dant in-city or Ham#2848 On Discord for info/attribution to your storefront's marker! -->
        <h2>
            This site is still a work in progress, contact the authors below for info/attribution to your storefront's marker!<br>
            Author 1: @MelarkyNP on Twitter,<br>
            Author 2: Atten Dant in-city / @thethirdwheelfm on Twitter / Ham#2848 On Discord.
        </h2>
    </div>
</body>
</html>
