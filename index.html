<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="leaflet.css" />
    <script src="leaflet.js"></script>
    <style>
        #map {
            position: absolute; top: 0; bottom: 0; left: 0; right: 0;
            background-color: #0fa8d2;
        }
    </style>
</head>
<body>
    <div id = "map"></div>
    <script type="text/javascript" src="./configs/restaurants.js"></script>
    <script type="text/javascript" src="./configs/corner_stores.js"></script>
    <script type="text/javascript" src="./configs/novelty_shops.js"></script>
    <script type="text/javascript" src="./configs/dispensaries.js"></script>
    <script type="text/javascript" src="./configs/supply_stores.js"></script>
    <script type="text/javascript" src="./configs/pet_stores.js"></script>
    <script type="text/javascript" src="./configs/recreational_stores.js"></script>
    <script type="text/javascript" src="./src/utils.js"></script>

    <script>
        /*==================== GTA Map ====================*/
        var map = L.map('map', {
            crs: L.CRS.Simple,
            minZoom: -3.0
        });
        var bounds = [[0,0], [8000,8000]];
        var image = L.imageOverlay('images/GTAV8kRes_10_percent.png', bounds).addTo(map);
        map.fitBounds(bounds);
        /*==================== Icons ====================*/
        var blackIcon = L.icon({
            iconUrl: "images/marker-black.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var redIcon = L.icon({
            iconUrl: "images/marker-red.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var greenIcon = L.icon({
            iconUrl: "images/marker-green.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var orangeIcon = L.icon({
            iconUrl: "images/marker-orange.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var pinkIcon = L.icon({
            iconUrl: "images/marker-pink.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var purpleIcon = L.icon({
            iconUrl: "images/marker-purple.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var whiteIcon = L.icon({
            iconUrl: "images/marker-white.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var tealIcon = L.icon({
            iconUrl: "images/marker-teal.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        /*==================== Restaurants ====================*/

        restaurants_markers = create_marker_list(restaurants_list)

        /*==================== Corner Stores ====================*/

        corner_stores_markers = create_marker_list(corner_stores_list)

        /*==================== Novelty Shops ====================*/

        novelty_shops_markers = create_marker_list(novelty_shops_list)
        
        /*====================== Dispensaries ======================*/

        dispensaries_markers = create_marker_list(dispensaries_list)

        /*====================== Supply Stores ======================*/

        supply_stores_markers = create_marker_list(supply_stores_list)

        /*==================== Pet Stores ====================*/

        pet_stores_markers = create_marker_list(pet_stores_list)

        /*==================== Recreation ====================*/

        recreational_stores_markers = create_marker_list(recreational_stores_list)

        /*==================== Electronics ====================*/
        var digitalDenMirrorPark = L.marker([2299, 4400], {
            title: "Digital Den (Mirror Park)",
            icon: purpleIcon,
        }).bindPopup("<h1>Digital Den (Mirror Park)</h1>").addTo(map);
        var digitalDenLittleSeoul = L.marker([1872.5, 3280], {
            title: "Digital Den (Little Seoul)",
            icon: purpleIcon,
        }).bindPopup("<h1>Digital Den (Little Seoul)</h1>").addTo(map);
        var raysElectronics = L.marker([6773, 3655], {
            title: "Ericson's Electronics",
            icon: purpleIcon,
        }).bindPopup("<h1>Ericson's Electronics</h1>").addTo(map);
        var amazoom = L.marker([1886, 3280], {
            title: "Amazoom",
            icon: purpleIcon,
        }).bindPopup("<h1>Amazoom</h1><p>Electronics N Stuff</p>").addTo(map);
        var ratShack = L.marker([2042, 3219], {
            title: "Rat Shack",
            icon: purpleIcon,
        }).bindPopup("<h1>Rat Shack</h1><img src='https://i.imgur.com/QecUNLU.png' width=100% height=100% />").addTo(map);
        /*==================== Coffee House ====================*/
        var beanMachine = L.marker([2762, 3265], {
            title: "Bean Machine",
            icon: orangeIcon,
        }).bindPopup("<h1>Bean Machine</h1>").addTo(map);
        var heroWine = L.marker([2841, 3605], {
            title: "HeroWine",
            icon: orangeIcon,
        }).bindPopup("<h1>HeroWine</h1><p>Wine Bottles and Wine Glasses, so fancy!</p>").addTo(map);
        var queenies = L.marker([1742.25, 2822.5], {
            title: "Queenies",
            icon: orangeIcon,
        }).bindPopup("<h1>Queenies</h1>").addTo(map);
        var pandiaExpresso = L.marker([1879, 3280], {
            title: "Pandia Expresso",
            icon: orangeIcon,
        }).bindPopup("<h1>Pandia Expresso</h1><p>Coffee & Cigarettes</p>").addTo(map);
        var eruditeEats = L.marker([1701, 2906], {
            title: "Erudite Eats",
            icon: orangeIcon,
        }).bindPopup("<h1>Erudite Eats</h1><img src='https://i.imgur.com/t8ECMch.jpeg' width=100% height=100% />").addTo(map);
        var theWhiteRabbit = L.marker([4991.5, 4886], {
            tile: "The White Rabbit",
            icon: orangeIcon,
        }).bindPopup("<h1>The White Rabbit</h1>").addTo(map);
        /*==================== Repair Shops ====================*/
        var hayesAuto = L.marker([2316, 2751], {
            title: "Hayes Auto Body Repairs",
            icon: tealIcon,
        }).bindPopup("<h1>Hayes Auto Body Repairs</h1>").addTo(map);
        var tunerShop = L.marker([645, 3760], {
            title: "The 6STR Tuner Shop",
            icon: tealIcon,
        }).bindPopup("<h1>The 6STR Tuner Shop</h1><img src='https://media.discordapp.net/attachments/876967826227863583/900314032689528852/tunerfix.gif' width=100% height=100% />'").addTo(map);
        var ironHog = L.marker([4747, 4808], {
            title: "Iron Hog Repairs",
            icon: tealIcon,
        }).bindPopup("<h1>Iron Hog Repairs</h1><img src='https://i.imgur.com/e5GMWoZ.jpeg' width=100% height=100% />").addTo(map);
        var ottosAutos = L.marker([2089, 4196], {
            title: "Otto's Autos",
            icon: tealIcon,
        }).bindPopup("<h1>Otto's Autos</h1>").addTo(map);
        /*==================== Easter Eggs ====================*/
        //var norman = L.marker([5930, 5870]).bindPopup('Normans Dumbass House').addTo(map);
        //var center = L.marker ([4000, 4000]).bindPopup('Center of Map').addTo(map);
        var marker = new L.marker([39.5, -77.3], { opacity: 0.01 }); //opacity may be set to zero
        marker.bindTooltip("<h2>This site is still a work in progress, contact @MelarkyNP on twitter for info/attribution to your storefront's marker!</h2>", {permanent: true, className: "my-label", offset: [0, 0] });
        marker.addTo(map);
        /*==================== Layers ====================*/
        var cornerStores = L.layerGroup(corner_stores_markers);
        var restaurants = L.layerGroup(restaurants_markers);
        var noveltyShops = L.layerGroup(novelty_shops_markers);
        var dispensaries = L.layerGroup(dispensaries_markers);
        var hardwareStores = L.layerGroup(supply_stores_markers);
        var petStores = L.layerGroup(pet_stores_markers);
        var recreation = L.layerGroup([
            horage, 
            bongjour, 
            pitchersVinewood, 
            oakAndDagger, 
            theDJMemorialFacility, 
            sirenRadio, 
            artistStudio,
            sanAndreasScouts,
            wyldChyld,
            nopixelCards,
        ]);
        var electronics = L.layerGroup([
            digitalDenMirrorPark,
            raysElectronics,
            digitalDenLittleSeoul,
            amazoom,
            ratShack,
        ]);
        var coffeehouse = L.layerGroup([
            beanMachine,
            heroWine,
            queenies,
            pandiaExpresso,
            eruditeEats,
            theWhiteRabbit,
        ]);
        var repairShop = L.layerGroup([
            hayesAuto,
            tunerShop,
            ironHog,
            ottosAutos,
        ]);
        /*==================== Leaflet Layer Control ====================*/
        map.addLayer(restaurants)
        map.addLayer(cornerStores)
        map.addLayer(noveltyShops)
        map.addLayer(dispensaries)
        map.addLayer(hardwareStores)
        map.addLayer(petStores)
        map.addLayer(recreation)
        map.addLayer(electronics)
        map.addLayer(coffeehouse)
        map.addLayer(repairShop)
        var overlayMaps = {
            'Restaurants (Staffed Food Establishments)': restaurants, 
            'Corner Stores (Bandaids, Armor)': cornerStores, 
            'Novelty Shops (Plushies, Collectables)': noveltyShops, 
            'Dispensaries (Joints, Cigs)': dispensaries, 
            'Supply Stores (Tools, Supplies)': hardwareStores, 
            'Pet Stores (For Pets)': petStores,
            'Recreational (You know, Fun Stuff)': recreation,
            'Electronics (Phones, Laptops, VPNs)': electronics,
            'Coffee Houses & Beverage (Coffee, Wine)': coffeehouse,
            'Mechanics & Repair Shops': repairShop,
        };
        L.control.layers(0, overlayMaps).addTo(map);
    </script>
</body>
</html>
