<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="leaflet.css" />
    <script src="leaflet.js"></script>
    <style>
        #map {
            position: absolute; top: 0; bottom: 0; left: 0; right: 0;
            background-color: #0fa8d2;
        }
    </style>
</head>
<body>
    <div id = "map"></div>
    <script type="text/javascript" src="./configs/restaurants.js"></script>
    <script type="text/javascript" src="./configs/corner_stores.js"></script>
    <script type="text/javascript" src="./configs/novelty_shops.js"></script>
    <script type="text/javascript" src="./configs/dispensaries.js"></script>
    <script type="text/javascript" src="./configs/supply_stores.js"></script>
    <script type="text/javascript" src="./configs/pet_stores.js"></script>
    <script type="text/javascript" src="./configs/recreational_stores.js"></script>
    <script type="text/javascript" src="./configs/electronics_stores.js"></script>
    <script type="text/javascript" src="./configs/coffee_houses.js"></script>
    <script type="text/javascript" src="./configs/repair_shops.js"></script>
    <script type="text/javascript" src="./src/utils.js"></script>

    <script>
        /*==================== GTA Map ====================*/
        var map = L.map('map', {
            crs: L.CRS.Simple,
            minZoom: -3.0
        });
        var bounds = [[0,0], [8000,8000]];
        var image = L.imageOverlay('images/GTAV8kRes_10_percent.png', bounds).addTo(map);
        map.fitBounds(bounds);
        /*==================== Icons ====================*/
        var blackIcon = L.icon({
            iconUrl: "images/marker-black.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var redIcon = L.icon({
            iconUrl: "images/marker-red.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var greenIcon = L.icon({
            iconUrl: "images/marker-green.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var orangeIcon = L.icon({
            iconUrl: "images/marker-orange.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var pinkIcon = L.icon({
            iconUrl: "images/marker-pink.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var purpleIcon = L.icon({
            iconUrl: "images/marker-purple.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var whiteIcon = L.icon({
            iconUrl: "images/marker-white.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        var tealIcon = L.icon({
            iconUrl: "images/marker-teal.png",
            shadowUrl: "images/marker-shadow.png",
            iconAnchor: [12, 41],
            shadowAnchor: [12, 41],
            popupAnchor: [0, -41],
        })
        /*==================== Restaurants ====================*/

        restaurants_markers = create_marker_list(restaurants_list)

        /*==================== Corner Stores ====================*/

        corner_stores_markers = create_marker_list(corner_stores_list)

        /*==================== Novelty Shops ====================*/

        novelty_shops_markers = create_marker_list(novelty_shops_list)
        
        /*====================== Dispensaries ======================*/

        dispensaries_markers = create_marker_list(dispensaries_list)

        /*====================== Supply Stores ======================*/

        supply_stores_markers = create_marker_list(supply_stores_list)

        /*==================== Pet Stores ====================*/

        pet_stores_markers = create_marker_list(pet_stores_list)

        /*==================== Recreation ====================*/

        recreational_stores_markers = create_marker_list(recreational_stores_list)

        /*==================== Electronics ====================*/

        electronics_stores_markers = create_marker_list(electronics_stores_list)

        /*==================== Coffee Houses ====================*/

        coffee_houses_markers = create_marker_list(coffee_houses_list)

        /*==================== Repair Shops ====================*/

        repair_shops_markers = create_marker_list(repair_shops_list)

        /*==================== Easter Eggs ====================*/
        //var norman = L.marker([5930, 5870]).bindPopup('Normans Dumbass House').addTo(map);
        //var center = L.marker ([4000, 4000]).bindPopup('Center of Map').addTo(map);
        var marker = new L.marker([39.5, -77.3], { opacity: 0.01 }); //opacity may be set to zero
        marker.bindTooltip(
            "<h2>This site is still a work in progress, <br>contact <br>@MelarkyNP / @thethirdwheelfm on Twitter <br>or Attend Dant in-city <br>or Ham#2848 On Discord <br>for info/attribution to your storefront's marker!</h2>", {permanent: true, className: "my-label", offset: [0, 0] }
        );
        marker.addTo(map);
        /*==================== Layers ====================*/
        var cornerStores = L.layerGroup(corner_stores_markers);
        var restaurants = L.layerGroup(restaurants_markers);
        var noveltyShops = L.layerGroup(novelty_shops_markers);
        var dispensaries = L.layerGroup(dispensaries_markers);
        var hardwareStores = L.layerGroup(supply_stores_markers);
        var petStores = L.layerGroup(pet_stores_markers);
        var recreation = L.layerGroup(recreational_stores_markers);
        var electronics = L.layerGroup(electronics_stores_markers);
        var coffee_houses = L.layerGroup(coffee_houses_markers);
        var repairShop = L.layerGroup(repair_shops_markers);
        /*==================== Leaflet Layer Control ====================*/
        map.addLayer(restaurants)
        map.addLayer(cornerStores)
        map.addLayer(noveltyShops)
        map.addLayer(dispensaries)
        map.addLayer(hardwareStores)
        map.addLayer(petStores)
        map.addLayer(recreation)
        map.addLayer(electronics)
        map.addLayer(coffee_houses)
        map.addLayer(repairShop)
        var overlayMaps = {
            'Restaurants (Staffed Food Establishments)': restaurants, 
            'Corner Stores (Bandaids, Armor)': cornerStores, 
            'Novelty Shops (Plushies, Collectables)': noveltyShops, 
            'Dispensaries (Joints, Cigs)': dispensaries, 
            'Supply Stores (Tools, Supplies)': hardwareStores, 
            'Pet Stores (For Pets)': petStores,
            'Recreational (You know, Fun Stuff)': recreation,
            'Electronics (Phones, Laptops, VPNs)': electronics,
            'Coffee Houses & Beverage (Coffee, Wine)': coffee_houses,
            'Mechanics & Repair Shops': repairShop,
        };
        L.control.layers(0, overlayMaps).addTo(map);
    </script>
</body>
</html>
